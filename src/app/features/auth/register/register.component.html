<div class="register-container">
  <div class="register-card">
    <h2 class="text-3xl font-bold text-center mb-2">
      Welcome to <span class="text-primary">MediPulse</span>!
    </h2>
    <p class="text-center text-gray-500 dark:text-gray-400 mb-4">
      Your healthcare, now seamless and digital.
    </p>

    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="space-y-4">

      <!-- Name & Phone Row -->
      <div class="form-row">
        <div class="form-group">
          <label>Name <span class="text-red-500">*</span></label>
          <input type="text" formControlName="name" class="form-input" placeholder="Enter your full name"
            [class.invalid]="f['name'].invalid && (f['name'].dirty || f['name'].touched)" />
          <p class="error-message" *ngIf="f['name'].hasError('required')">Name is required.</p>
          <p class="error-message" *ngIf="f['name'].hasError('minlength')">Minimum 3 characters required.</p>
          <p class="error-message" *ngIf="f['name'].hasError('maxlength')">Maximum 50 characters allowed.</p>
        </div>

        <div class="form-group">
          <label>Phone <span class="text-red-500">*</span></label>
          <input type="tel" formControlName="phone" class="form-input" placeholder="Enter your phone number"
            [class.invalid]="f['phone'].invalid && (f['phone'].dirty || f['phone'].touched)" />
          <p class="error-message" *ngIf="f['phone'].hasError('required')">Phone number is required.</p>
          <p class="error-message" *ngIf="f['phone'].hasError('pattern')">Enter a valid 10-digit phone number.</p>
        </div>
      </div>

      <!-- Password & Phone Row -->
      <div class="form-row">
        <div class="form-group">
          <label>Email <span class="text-red-500">*</span></label>
          <input type="email" formControlName="email" class="form-input" placeholder="Enter your email"
            [class.invalid]="f['email'].invalid && (f['email'].dirty || f['email'].touched)" />
          <p class="error-message" *ngIf="f['email'].hasError('required')">Email is required.</p>
          <p class="error-message" *ngIf="f['email'].hasError('email')">Enter a valid email format.</p>
        </div>

        <div class="form-group">
          <label>Password <span class="text-red-500">*</span></label>
          <div class="relative">
            <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-input pr-10"
              placeholder="Enter a strong password"
              [class.invalid]="f['password'].invalid && (f['password'].dirty || f['password'].touched)" />
            <button type="button" class="eye-icon absolute right-3 top-1/2 transform -translate-y-1/2" (click)="togglePassword()">
              <i [class]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
            </button>
          </div>

          <!-- Error Messages -->
          <p class="error-message" *ngIf="f['password'].hasError('required')">Password is required.</p>
          <p class="error-message" *ngIf="f['password'].hasError('minlength')">At least 8 characters required.</p>
          <p class="error-message" *ngIf="f['password'].hasError('pattern')">Must include lowercase,uppercase, number & symbol.
          </p>
        </div>
      </div>

      <!-- Role & Gender Row -->
      <div class="form-row">
        <div class="form-group">
          <label>Role <span class="text-red-500">*</span></label>
          <select formControlName="role" class="form-input"
            [class.invalid]="f['role'].invalid && (f['role'].dirty || f['role'].touched)">
            <option value="" disabled>Select your role</option>
            <option *ngFor="let role of roles" [value]="role">{{ role | titlecase }}</option>
          </select>
          <p class="error-message" *ngIf="f['role'].invalid">Role is required.</p>
        </div>

        <div class="form-group">
          <label>Gender <span class="text-red-500">*</span></label>
          <select formControlName="gender" class="form-input"
            [class.invalid]="f['gender'].invalid && (f['gender'].dirty || f['gender'].touched)">
            <option value="" disabled>Select your gender</option>
            <option *ngFor="let gender of genders" [value]="gender">{{ gender | titlecase }}</option>
          </select>
          <p class="error-message" *ngIf="f['gender'].invalid">Gender is required.</p>
        </div>
      </div>

      <!-- Age & Terms Row -->
      <div class="form-row">
        <div class="form-group">
          <label>Age <span class="text-red-500">*</span></label>
          <input type="text" formControlName="age" class="form-input" placeholder="Enter your age" min="1" max="100"
            [class.invalid]="f['age'].invalid && (f['age'].dirty || f['age'].touched)" />
          <p class="error-message" *ngIf="f['age'].invalid">Age is required (1-100).</p>
        </div>

        <div class="flex items-center mt-6">
          <input type="checkbox" formControlName="terms" id="terms" class="mr-2" />
          <label for="terms" class="cursor-pointer text-gray-600 dark:text-gray-300">
            I agree to the <a href="#" class="text-primary tooltip">Terms & Conditions</a>
          </label>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="flex justify-center">
        <button type="submit" class="submit-button" [disabled]="signupForm.invalid || !f['terms'].value">
          Sign Up
        </button>
      </div>


      <!-- Social Login -->
      <div class="social-login-container">
        <button type="button" class="social-button google"><i class="fab fa-google mr-1"></i> Signup with
          Google</button>
        <button type="button" class="social-button facebook"><i class="fab fa-facebook mr-1"></i> Signup with
          Facebook</button>
      </div>

      <!-- Already have an account? -->
      <p class="text-center text-gray-600 dark:text-gray-300 mt-3">
        Already have an account? <a [routerLink]="['/', AUTH_ROUTES.ROOT, AUTH_ROUTES.LOGIN]" class="text-blue-700">Login</a>
      </p>

    </form>
  </div>
</div>