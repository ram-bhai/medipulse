<div class="flex min-h-screen" *ngIf="isLoggedIn">
  <!-- Sidebar -->
  <app-global-sidebar [isCollapsed]="isCollapsed" (toggle)="toggleSidebar()"></app-global-sidebar>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col transition-all duration-300"
       [ngClass]="{ 'ml-64': !isCollapsed, 'ml-16': isCollapsed }">

    <!-- Header -->
    <app-global-header [isCollapsed]="isCollapsed"></app-global-header>

    <!-- Main Content -->
    <main class="flex-1 mt-16 p-6 bg-[var(--bg-color)]">
      <app-global-loader></app-global-loader>
      <router-outlet></router-outlet>
    </main>

    <!-- Footer -->
    <app-global-footer [isCollapsed]="isCollapsed"></app-global-footer>
  </div>
</div>

<!-- Show login page when user is not logged in -->
<div *ngIf="!isLoggedIn">
  <router-outlet></router-outlet>
</div>
